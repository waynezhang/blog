<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Linghua Zhang" />
    <title>定制 d900 rom 启动画面</title>
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="setImpl" type="application/atom+xml" />
    <link rel="stylesheet" href="/media/css/style.css">
    <link rel="stylesheet" href="/media/css/github.css">
    <script type="text/javascript" src="/media/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
      </script>
    </head>
    <body>
      <div id="container">
        <div id="main" role="main">
          <header>
          <h1>定制 d900 rom 启动画面</h1>
          </header>
          <nav>
          <span><a title="home page" class="" href="/">home</a></span>
          <span><a title="archives" class="" href="/archives.html">archives</a></span>
          <span><a title="about" class="" href="/about.html">about me</a></span>
          <span><a title="my photos" class="" href="http://www.flickr.com/photos/lhzhang">gallery</a></span>
          <span><a title="blogroll" class="" href="/links.html">links</a></span>
          <span><a title="subscribe me" class="" href="/atom.xml">feed</a></span>
          </nav>
          <article class="content">
          <section class="post">
<p>定制 d900 rom 启动画面，适用 WM5</p>

<p>注意，只适用 D900 的 WM5 ROM，其他机型或 WM6 ROM会有所变动，请勿轻易尝试</p>

<p>其实很简单，WM5 （不太清楚2k3和WM6，不过应该一样）的第一屏启动画面是作为RSB图像格式存储ROM当中，至于 RSB格式就不多讲了，其实我也不是很明白它的编码格式，也不需要了解，附件中我会提供一BMP与 RSB互转的工具。我们只要做找一个bmp文件转成rsb，然后将 rom 当中相应的内容替换掉就 ok 了。</p>

<p>需要注意的是，一个普通的rsb文件大小是614428字节，而rom当中的rsb格式只有614400字节，缺少rsb的文件头：</p>

<p>01 00 00 00 E0 01 00 00 80 02 00 00 05 00 00 00 06 00 00 00 05 00 00 00 00 00 00 00</p>

<p>一共28个字节，所以在从rom中复制出来的内容之前要加入这个文件头才可以被正确的识别为rsb格式，同样，一个转换好的rsb格式文件也应该删掉前28个字节然后再将剩余的内容替换到rom当中</p>

<p>说说过程吧：</p>

<p>喜欢自己动手的可以尝试一下:</p>

<p>用HTC Extended ROM Tools 将D900 ROM解开，在生成的 nk.fat 文件中就有我们所要的东西</p>

<p>备份：</p>

<p>用 16 进制编辑器打开这个文件，在 0&#215;3F00000 偏移处就是我们的rsb文件内容，一共614400个字节，复制出来然后加入前面的文件头就ok了。</p>

<p>修改：</p>

<p>新建一个480&#215;640的bmp图像，然后用RSBBMP将文件转换为 rsb文件，用16进制编辑器将第29个字节到最后的内容一起替换到nk.fat的0&#215;3f00000偏移处，打包rom</p>

<p>如果比较懒的可以用我的工具：</p>

<p>当然也要先解开rom，生成nk.fat就行</p>

<p>在命令行下执行</p>

<p>unisplash r nk.fat xxx.rsb &#8212;&#8212; 用于将rom中的rsb内容保存到 xxx.rsb，文件头已经加好了，可以直接用 rsbbmp 转换成bmp</p>

<p>unisplash w nk.fat xxxx.rsb &#8212;&#8212; 用于将 rsbbmp 转换出来的rsb文件的内容替换进 nk.fat，xxxx.rsb是rsbbmp生成的文件名，然后打包rom可以刷机了</p>

<p>注意：刷机以及更改rom有一定风险，所有损失自负</p>

<p>下载地址: <del><a href="/media/downloads/splash_d900.zip">splash_d900</a></del></p>

</section>
<section class="meta">

<span class="tags">
  tagged by 
  
  windowsmobile&nbsp;
  
  d900&nbsp;
  
</span>

<span class="time">
  <time datetime="2007-02-09">2007-02-09</time>
</span>

          </article>
        </div>
      </div> <!--! end of #container -->
    </body>
  </html>
